# ==========================================
# COPART SCRAPER API - ENVIRONMENT VARIABLES
# ==========================================

# Server Configuration
NODE_ENV=development
PORT=3000

# API Security - GENERATE NEW KEYS FOR PRODUCTION
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY=your-secure-api-key-here-generate-new-one
ADMIN_TOKEN=your-secure-admin-token-here-generate-new-one

# Firebase Configuration
# 1. Create project at https://console.firebase.google.com/
# 2. Enable Firestore Database
# 3. Go to Project Settings → Service Accounts
# 4. Generate new private key (downloads JSON file)
# 5. Save JSON file in project root
# 6. Update path below
FIREBASE_SERVICE_ACCOUNT_PATH=./your-firebase-adminsdk-xxxx.json

# Google Vertex AI / Gemini Configuration
# Option 1: Standard Gemini API (easiest)
# 1. Go to https://aistudio.google.com/app/apikey
# 2. Create API key
# 3. Set USE_VERTEX_AI=false
#
# Option 2: Vertex AI (recommended for production)
# 1. Enable Vertex AI API: https://console.cloud.google.com/apis/library/aiplatform.googleapis.com
# 2. Set USE_VERTEX_AI=true
# 3. Configure project ID and location below
GEMINI_API_KEY=your-gemini-api-key-here
USE_VERTEX_AI=false
GOOGLE_CLOUD_PROJECT=your-project-id
GOOGLE_CLOUD_LOCATION=us-central1

# AI Features Configuration
# Enable/disable AI-powered extraction (Gemini Vision)
# true = Use AI first, fallback to traditional scraping if needed
# false = Use only traditional scraping methods
ENABLE_AI_EXTRACTION=true

# Sentry Error Tracking
# 1. Create project at https://sentry.io/
# 2. Get DSN from Settings → Client Keys (DSN)
# 3. Paste DSN below
SENTRY_DSN=https://your-sentry-dsn@o123456.ingest.sentry.io/7891011

# Redis Configuration (Optional - for caching and rate limiting)
# If not configured, will fallback to in-memory storage
# For local development: docker compose -f docker-compose.redis.yml up -d
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# CORS Configuration
# Comma-separated list of allowed origins for CORS
# Production: Add your frontend domain(s)
# Development: Include localhost ports
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://yourdomain.com

# Playwright Configuration
# HEADLESS=true for production/Docker, false for local debugging
HEADLESS=true
BROWSER_TIMEOUT=60000

# Scraping Configuration
# DEFAULT_LIMIT: Vehicles per page (10, 50, or 100)
# TIMEOUT_MINUTES: Maximum time for scraping operation (15 recommended)
# LOCK_TIMEOUT_MINUTES: Maximum lock wait time (15 recommended)
DEFAULT_LIMIT=10
TIMEOUT_MINUTES=15
LOCK_TIMEOUT_MINUTES=15

# Logging Configuration
LOG_LEVEL=info
ENABLE_DEBUG_LOGS=false

# ==========================================
# NOTES:
# ==========================================
# - Never commit .env file to Git (already in .gitignore)
# - Generate unique API_KEY and ADMIN_TOKEN for each environment
# - Firebase service account JSON files must never be committed
# - Sentry is optional but highly recommended for production
# - Redis is optional, will use memory fallback if not available
# - HEADLESS=true is required for Cloud Run deployment
